import{bK as d}from"./vendor.9c15ff54.js";import{a as k}from"./htmlmixed.7c87b0f0.js";import{a as y}from"./ruby.3c0e57e9.js";function b(u,p){return p.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(o){if(o!=="default"&&!(o in u)){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(u,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}})}),Object.freeze(u)}var a={exports:{}};(function(u,p){(function(i){i(d.exports,k.exports,y.exports)})(function(i){i.defineMode("haml",function(o){var r=i.getMode(o,{name:"htmlmixed"}),c=i.getMode(o,"ruby");function h(n){return function(e,t){var l=e.peek();return l==n&&t.rubyState.tokenize.length==1?(e.next(),t.tokenize=m,"closeAttributeTag"):f(e,t)}}function f(n,e){return n.match("-#")?(n.skipToEnd(),"comment"):c.token(n,e.rubyState)}function m(n,e){var t=n.peek();if(e.previousToken.style=="comment"&&e.indented>e.previousToken.indented)return n.skipToEnd(),"commentLine";if(e.startOfLine){if(t=="!"&&n.match("!!"))return n.skipToEnd(),"tag";if(n.match(/^%[\w:#\.]+=/))return e.tokenize=f,"hamlTag";if(n.match(/^%[\w:]+/))return"hamlTag";if(t=="/")return n.skipToEnd(),"comment"}if((e.startOfLine||e.previousToken.style=="hamlTag")&&(t=="#"||t=="."))return n.match(/[\w-#\.]*/),"hamlAttribute";if(e.startOfLine&&!n.match("-->",!1)&&(t=="="||t=="-"))return e.tokenize=f,e.tokenize(n,e);if(e.previousToken.style=="hamlTag"||e.previousToken.style=="closeAttributeTag"||e.previousToken.style=="hamlAttribute"){if(t=="(")return e.tokenize=h(")"),e.tokenize(n,e);if(t=="{"&&!n.match(/^\{%.*/))return e.tokenize=h("}"),e.tokenize(n,e)}return r.token(n,e.htmlState)}return{startState:function(){var n=i.startState(r),e=i.startState(c);return{htmlState:n,rubyState:e,indented:0,previousToken:{style:null,indented:0},tokenize:m}},copyState:function(n){return{htmlState:i.copyState(r,n.htmlState),rubyState:i.copyState(c,n.rubyState),indented:n.indented,previousToken:n.previousToken,tokenize:n.tokenize}},token:function(n,e){if(n.sol()&&(e.indented=n.indentation(),e.startOfLine=!0),n.eatSpace())return null;var t=e.tokenize(n,e);if(e.startOfLine=!1,t&&t!="commentLine"&&(e.previousToken={style:t,indented:e.indented}),n.eol()&&e.tokenize==f){n.backUp(1);var l=n.peek();n.next(),l&&l!=","&&(e.tokenize=m)}return t=="hamlTag"?t="tag":t=="commentLine"?t="comment":t=="hamlAttribute"?t="attribute":t=="closeAttributeTag"&&(t=null),t}}},"htmlmixed","ruby"),i.defineMIME("text/x-haml","haml")})})();var v=a.exports,z=Object.freeze(b({__proto__:null,[Symbol.toStringTag]:"Module",default:v},[a.exports]));export{z as h};
