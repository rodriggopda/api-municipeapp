var fe=Object.defineProperty,me=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ae=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))ye.call(t,n)&&ae(e,n,t[n]);if(se)for(var n of se(t))be.call(t,n)&&ae(e,n,t[n]);return e},ee=(e,t)=>me(e,ge(t));import{n as V,u as M,o as k,v as I,a0 as J,y as te,r as s,H as T,I as j,p as c,q as g,w as r,V as h,t as a,K as D,aE as $e,z as S,Y as z,M as A,N as re,aB as K,R as L,A as O,l as ne,$ as Q,ax as he,am as ke,C as E,Q as ie,aG as le,U as ue,bk as we,T as Se,B as Oe,O as Ie,P as Ce,a1 as Ve,a2 as Le}from"./vendor.9c15ff54.js";import{u as Be,a as ce,_ as B,b as de,g as pe,c as Y,d as q,e as X,M as Ue,t as De,f as Ae,h as je,i as Ne,j as Me,k as Ee,l as _e,m as Re,H as Te,n as qe}from"./index.3a276397.entry.js";import"./use-sync.4163a308.js";const Fe=V({setup(){const{t:e}=M(),t=Be(),n=ce(),l=k(()=>{var p;return n.settings===null||!((p=n.settings)==null?void 0:p.project_logo)?null:de(pe()+`assets/${n.settings.project_logo}`)}),d=I(!1),{queueHasItems:u}=J(t);te(()=>u.value,p=>{p&&(d.value=!0)});const i=k(()=>{var p;return(p=n.settings)==null?void 0:p.project_url}),o=k(()=>{var p;return((p=n.settings)==null?void 0:p.project_url)?e("view_project"):!1});return{customLogoPath:l,showLoader:d,stopSpinnerIfQueueIsEmpty:_,url:i,urlTooltip:o};function _(){u.value===!1&&(d.value=!1)}}}),He=["src"];function Pe(e,t,n,l,d,u){const i=s("v-progress-linear"),o=T("tooltip");return j((c(),g(re(e.url?"a":"div"),{href:e.url,target:e.url?"_blank":void 0,rel:e.url?"noopener noreferrer":void 0,class:A(["module-bar-logo",{loading:e.showLoader}])},{default:r(()=>[e.customLogoPath?(c(),h(z,{key:0},[a($e,{name:"fade"},{default:r(()=>[e.showLoader?(c(),g(i,{key:0,indeterminate:"",rounded:"",onAnimationiteration:e.stopSpinnerIfQueueIsEmpty},null,8,["onAnimationiteration"])):D("",!0)]),_:1}),S("img",{class:"custom-logo",src:e.customLogoPath,alt:"Project Logo"},null,8,He)],64)):(c(),h("div",{key:1,class:A(["logo",{running:e.showLoader}]),onAnimationiteration:t[0]||(t[0]=(..._)=>e.stopSpinnerIfQueueIsEmpty&&e.stopSpinnerIfQueueIsEmpty(..._))},null,34))]),_:1},8,["href","target","rel","class"])),[[o,e.urlTooltip,void 0,{right:!0}]])}var Ge=B(Fe,[["render",Pe],["__scopeId","data-v-a98d38ac"]]);const ze=V({setup(){const{t:e}=M(),t=Y(),n=q(),{notificationsDrawerOpen:l}=K(t),{unread:d}=K(n),u=X(),i=I(!1),o=k(()=>{var y;return!u.currentUser||!("avatar"in u.currentUser)||!((y=u.currentUser)==null?void 0:y.avatar)?null:de(pe()+`assets/${u.currentUser.avatar.id}?key=system-medium-cover`)}),_=I(null),p=k(()=>{var f;return`/users/${(f=u.currentUser)==null?void 0:f.id}`}),m=k(()=>"/logout"),v=u.fullName;return{t:e,userFullName:v,avatarURL:o,userProfileLink:p,signOutActive:i,signOutLink:m,notificationsDrawerOpen:l,unread:d,avatarError:_}}}),Qe={class:"module-bar-avatar"},We=["src","alt"];function Je(e,t,n,l,d,u){const i=s("v-icon"),o=s("v-button"),_=s("v-badge"),p=s("v-card-title"),m=s("v-card-actions"),v=s("v-card"),y=s("v-dialog"),f=s("v-avatar"),$=s("router-link"),U=s("v-hover"),w=T("tooltip");return c(),h("div",Qe,[a(_,{value:e.unread,disabled:e.unread==0,class:"notifications-badge"},{default:r(()=>[j(a(o,{tile:"",icon:"","x-large":"",class:"notifications",onClick:t[0]||(t[0]=C=>e.notificationsDrawerOpen=!0)},{default:r(()=>[a(i,{name:"notifications"})]),_:1},512),[[w,e.t("notifications"),void 0,{right:!0}]])]),_:1},8,["value","disabled"]),a(U,null,{default:r(({hover:C})=>[a(y,{modelValue:e.signOutActive,"onUpdate:modelValue":t[2]||(t[2]=b=>e.signOutActive=b),onEsc:t[3]||(t[3]=b=>e.signOutActive=!1)},{activator:r(({on:b})=>[j(a(o,{tile:"",icon:"","x-large":"",class:A([{show:C},"sign-out"]),onClick:b},{default:r(()=>[a(i,{name:"logout"})]),_:2},1032,["class","onClick"]),[[w,e.t("sign_out"),void 0,{right:!0}]])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[L(O(e.t("sign_out_confirm")),1)]),_:1}),a(m,null,{default:r(()=>[a(o,{secondary:"",onClick:t[1]||(t[1]=b=>e.signOutActive=!e.signOutActive)},{default:r(()=>[L(O(e.t("cancel")),1)]),_:1}),a(o,{to:e.signOutLink},{default:r(()=>[L(O(e.t("sign_out")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:2},1032,["modelValue"]),a($,{to:e.userProfileLink},{default:r(()=>[j(a(f,{tile:"",large:"",class:A({"no-avatar":!e.avatarURL})},{default:r(()=>[e.avatarURL&&!e.avatarError?(c(),h("img",{key:0,src:e.avatarURL,alt:e.userFullName,class:"avatar-image",onError:t[4]||(t[4]=b=>e.avatarError=b)},null,40,We)):(c(),g(i,{key:1,name:"account_circle",outline:""}))]),_:1},8,["class"]),[[w,e.userFullName,void 0,{right:!0}]])]),_:1},8,["to"])]),_:1})])}var Ke=B(ze,[["render",Je],["__scopeId","data-v-73588382"]]);const Ye=V({components:{ModuleBarLogo:Ge,ModuleBarAvatar:Ke},setup(){const e=ce(),{modules:t}=Ae(),n=k(()=>t.value.map(d=>d.id));return{modules:k(()=>{var d;return e.settings?((d=e.settings.module_bar)!=null?d:Ue).filter(u=>u.type==="link"?!0:u.enabled&&n.value.includes(u.id)).map(u=>{if(u.type==="link"){const o=ne.exports.omit(u,["url"]);return u.url.startsWith("/")?o.to=u.url:o.href=u.url,De(o)}const i=t.value.find(o=>o.id===u.id);return ee(W(W({},u),t.value.find(o=>o.id===u.id)),{to:`/${i.id}`})}):[]})}}}),Xe={class:"module-bar"},Ze={class:"modules"};function xe(e,t,n,l,d,u){const i=s("module-bar-logo"),o=s("v-icon"),_=s("v-button"),p=s("module-bar-avatar"),m=T("tooltip");return c(),h("div",Xe,[a(i),S("div",Ze,[(c(!0),h(z,null,Q(e.modules,v=>j((c(),g(_,{key:v.id,icon:"","x-large":"",to:v.to,href:v.href,tile:"",style:he(v.color?{"--v-button-color-active":v.color}:null)},{default:r(()=>[a(o,{name:v.icon,outline:""},null,8,["name"])]),_:2},1032,["to","href","style"])),[[m,v.name,void 0,{right:!0}]])),128))]),a(p)])}var et=B(Ye,[["render",xe],["__scopeId","data-v-dd9f73e8"]]);const tt=V({props:{sidebarOpen:{type:Boolean,default:!1}},setup(e){const t=I([]),n=I(!1);return te(()=>e.sidebarOpen,async l=>{l===!1?t.value=[]:(n.value=!0,await ke(),n.value=!1)}),{openDetail:t,mandatory:n}}});function nt(e,t,n,l,d,u){const i=s("v-item-group");return c(),g(i,{modelValue:e.openDetail,"onUpdate:modelValue":t[0]||(t[0]=o=>e.openDetail=o),class:"sidebar-detail-group",scope:"sidebar-detail",mandatory:e.mandatory},{default:r(()=>[E(e.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","mandatory"])}var ot=B(tt,[["render",nt],["__scopeId","data-v-ebb6371e"]]),F=1e3,H=F*60,P=H*60,R=P*24,st=R*7,at=R*365.25,Z=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return rt(e);if(n==="number"&&isFinite(e))return t.long?lt(e):it(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),l=(t[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return n*at;case"weeks":case"week":case"w":return n*st;case"days":case"day":case"d":return n*R;case"hours":case"hour":case"hrs":case"hr":case"h":return n*P;case"minutes":case"minute":case"mins":case"min":case"m":return n*H;case"seconds":case"second":case"secs":case"sec":case"s":return n*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function it(e){var t=Math.abs(e);return t>=R?Math.round(e/R)+"d":t>=P?Math.round(e/P)+"h":t>=H?Math.round(e/H)+"m":t>=F?Math.round(e/F)+"s":e+"ms"}function lt(e){var t=Math.abs(e);return t>=R?x(e,t,R,"day"):t>=P?x(e,t,P,"hour"):t>=H?x(e,t,H,"minute"):t>=F?x(e,t,F,"second"):e+" ms"}function x(e,t,n,l){var d=t>=n*1.5;return Math.round(e/n)+" "+l+(d?"s":"")}const ut=V({setup(){const{t:e}=M(),t=je(),n=k(()=>{const o=ne.exports.sortBy(t.latency,["timestamp"]);return o[o.length-1]}),l=k(()=>{if(!t.latency||t.latency.length===0)return 0;const o=ne.exports.sortBy(t.latency,["timestamp"]),_=o.slice(Math.max(o.length-5,0));let p=0;for(const{latency:m}of _)p+=m;return Math.round(p/_.length)}),d=k(()=>l.value<=250?4:l.value>250&&l.value<=500?3:l.value>500&&l.value<=750?2:1),u=k(()=>{switch(d.value){case 4:return`${e("connection_excellent")}
(${Z(l.value)} ${e("latency")})`;case 3:return`${e("connection_good")}
(${Z(l.value)} ${e("latency")})`;case 2:return`${e("connection_fair")}
(${Z(l.value)} ${e("latency")})`;case 1:return`${e("connection_poor")}
(${Z(l.value)} ${e("latency")})`;default:return null}});return{icon:k(()=>{switch(d.value){case 4:return"signal_wifi_4_bar";case 3:return"signal_wifi_3_bar";case 2:return"signal_wifi_2_bar";case 1:return"signal_wifi_1_bar";default:return null}}),lastLatency:n,latencyTooltip:u}}}),ct={class:"latency-indicator"};function dt(e,t,n,l,d,u){const i=s("v-progress-circular"),o=s("v-icon"),_=T("tooltip");return j((c(),h("div",ct,[e.lastLatency?(c(),g(o,{key:1,name:e.icon},null,8,["name"])):(c(),g(i,{key:0,indeterminate:""}))],512)),[[_,e.latencyTooltip,void 0,{bottom:!0,end:!0}]])}var pt=B(ut,[["render",dt],["__scopeId","data-v-2cfd5c8b"]]);const _t=V({components:{LatencyIndicator:pt},setup(){const e=Ne(),t=k(()=>{var l,d;return(d=(l=e.info)==null?void 0:l.project)==null?void 0:d.project_name}),n=k(()=>{var l,d;return(d=(l=e.info)==null?void 0:l.project)==null?void 0:d.project_descriptor});return{name:t,descriptor:n}}}),vt={class:"project-info"},ft={class:"name-container"};function mt(e,t,n,l,d,u){const i=s("latency-indicator"),o=s("v-text-overflow");return c(),h("div",vt,[a(i),S("div",ft,[a(o,{placement:"right",class:"name",text:e.name},null,8,["text"]),e.descriptor?(c(),g(o,{key:0,placement:"right",class:"descriptor",text:e.descriptor},null,8,["text"])):D("",!0)])])}var gt=B(_t,[["render",mt],["__scopeId","data-v-47e3c683"]]);const yt=V({props:{id:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,default:null},icon:{type:String,default:null},type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},tail:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},progress:{type:Number,default:void 0}},setup(e){const t=q();return{close:n};function n(){e.showClose===!0&&t.remove(e.id)}}}),bt={key:0,class:"icon"},$t={class:"content"},ht={class:"title selectable"},kt={key:0,class:"text selectable"};function wt(e,t,n,l,d,u){const i=s("v-progress-circular"),o=s("v-icon");return c(),h("div",{class:A(["notification-item",[e.type,{tail:e.tail,dense:e.dense}]]),onClick:t[0]||(t[0]=(..._)=>e.close&&e.close(..._))},[e.loading||e.progress||e.icon?(c(),h("div",bt,[e.loading?(c(),g(i,{key:0,indeterminate:"",small:""})):e.progress?(c(),g(i,{key:1,small:"",value:e.progress},null,8,["value"])):(c(),g(o,{key:2,name:e.icon},null,8,["name"]))])):D("",!0),S("div",$t,[S("p",ht,O(e.title),1),e.text?(c(),h("p",kt,O(e.text),1)):D("",!0)]),e.showClose?(c(),g(o,{key:1,name:"close",clickable:"",class:"close",onClick:e.close},null,8,["onClick"])):D("",!0)],2)}var ve=B(yt,[["render",wt],["__scopeId","data-v-43553e80"]]);const St=V({components:{NotificationItem:ve},props:{dense:{type:Boolean,default:!1}},setup(){const e=q();return{queue:J(e).queue}}});function Ot(e,t,n,l,d,u){const i=s("notification-item");return c(),g(le,{class:"notifications-group",name:"slide-fade",tag:"div"},{default:r(()=>[E(e.$slots,"default",{},void 0,!0),(c(!0),h(z,null,Q(e.queue,(o,_)=>(c(),g(i,ie({key:o.id},o,{tail:_===e.queue.length-1,dense:e.dense,"show-close":o.persist===!0&&o.closeable!==!1}),null,16,["tail","dense","show-close"]))),128))]),_:3})}var It=B(St,[["render",Ot],["__scopeId","data-v-31bc6bbb"]]);const Ct=V({props:{to:{type:String,default:null},icon:{type:String,default:"box"},active:{type:Boolean,default:!1}},emits:["click"],setup(){const e=Y(),{sidebarOpen:t}=J(e);return{sidebarOpen:t}}}),Vt={class:"icon"},Lt={key:0,class:"title"};function Bt(e,t,n,l,d,u){const i=s("v-icon");return c(),g(re(e.to?"router-link":"button"),{class:A(["sidebar-button",{active:e.active}]),onClick:t[0]||(t[0]=o=>e.$emit("click",o))},{default:r(()=>[S("div",Vt,[a(i,{name:e.icon,outline:""},null,8,["name"])]),e.sidebarOpen?(c(),h("div",Lt,[E(e.$slots,"default",{},void 0,!0)])):D("",!0)]),_:3},8,["class"])}var Ut=B(Ct,[["render",Bt],["__scopeId","data-v-3f4d4d50"]]);const Dt=V({components:{SidebarButton:Ut,NotificationItem:ve},props:{sidebarOpen:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(){const{t:e}=M(),t=q();return{t:e,lastFour:t.lastFour}}}),At={class:"notifications-preview"},jt={key:0,class:"inline"},Nt={class:"padding-box"};function Mt(e,t,n,l,d,u){const i=s("router-link"),o=s("notification-item"),_=s("transition-expand"),p=s("sidebar-button"),m=T("tooltip");return c(),h("div",At,[a(_,{tag:"div"},{default:r(()=>[e.modelValue?(c(),h("div",jt,[S("div",Nt,[a(i,{class:A(["link",{"has-items":e.lastFour.length>0}]),to:"/activity"},{default:r(()=>[L(O(e.t("show_all_activity")),1)]),_:1},8,["class"]),a(le,{tag:"div",name:"notification",class:"transition"},{default:r(()=>[(c(!0),h(z,null,Q(e.lastFour,v=>(c(),g(o,ie({key:v.id},v),null,16))),128))]),_:1})])])):D("",!0)]),_:1}),j(a(p,{active:e.modelValue,class:"toggle",icon:"pending_actions",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",!e.modelValue))},{default:r(()=>[L(O(e.t("activity_log")),1)]),_:1},8,["active"]),[[m,e.t("activity_log"),void 0,{left:!0}]])])}var Et=B(Dt,[["render",Mt],["__scopeId","data-v-415ab206"]]);const Rt=V({setup(){const{t:e}=M(),{parsedInfo:t}=Me(),n=q(),l=X(),d=k(()=>n.dialogs);return{t:e,notifications:d,admin:l.isAdmin,done:i,getGitHubIssueLink:u};function u(o,_){var m,v,y,f;const p=`<!-- Please put a detailed explanation of the problem here. -->

---

### Project details
Directus Version: ${(m=t.value)==null?void 0:m.directus.version}
Environment: production
OS: ${(v=t.value)==null?void 0:v.os.type} ${(y=t.value)==null?void 0:y.os.version}
Node: ${(f=t.value)==null?void 0:f.node.version}

### Error

Title: ${_.title||"none"}
Message: ${_.text||"none"}

<details>
<summary>Stack Trace</summary>
<pre>
${JSON.stringify(_.error,Object.getOwnPropertyNames(_.error),2)}
</pre>
</details>
			`;return`https://github.com/directus/directus/issues/new?body=${encodeURIComponent(p)}`}function i(o){n.remove(o)}}}),Tt={class:"notification-dialogs"},qt=["href"];function Ft(e,t,n,l,d,u){const i=s("v-card-title"),o=s("v-error"),_=s("v-card-text"),p=s("v-button"),m=s("v-card-actions"),v=s("v-card"),y=s("v-dialog");return c(),h("div",Tt,[(c(!0),h(z,null,Q(e.notifications,f=>(c(),g(y,{key:f.id,"model-value":!0,persist:""},{default:r(()=>[a(v,{class:A([f.type])},{default:r(()=>[a(i,null,{default:r(()=>[L(O(f.title),1)]),_:2},1024),f.text?(c(),g(_,{key:0},{default:r(()=>[L(O(f.text)+" ",1),f.error?(c(),g(o,{key:0,error:f.error},null,8,["error"])):D("",!0)]),_:2},1024)):D("",!0),a(m,null,{default:r(()=>[f.type==="error"&&e.admin&&f.code==="UNKNOWN"?(c(),g(p,{key:0,secondary:""},{default:r(()=>[S("a",{target:"_blank",href:e.getGitHubIssueLink(f.id,f)},O(e.t("report_error")),9,qt)]),_:2},1024)):D("",!0),a(p,{onClick:$=>e.done(f.id)},{default:r(()=>[L(O(e.t("dismiss")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))])}var Ht=B(Rt,[["render",Ft],["__scopeId","data-v-bb61b36a"]]);const Pt=V({props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=M(),n=Y(),l=X(),d=q(),u=Ee(),i=ue(),o=I([]),_=I(0),p=I(!1),m=I(null),v=I([]),y=I(["inbox"]),{notificationsDrawerOpen:f}=K(n),$=I([{text:t("subject"),value:"subject",sortable:!1,width:300,align:"left"},{text:t("timestamp"),value:"timestampDistance",sortable:!1,width:180,align:"left"}]);return U(),te([()=>e.modelValue,y],()=>U()),{tableHeaders:$,t,notificationsDrawerOpen:f,page:_,notifications:o,loading:p,error:m,selection:v,onRowClick:C,toggleArchive:w,tab:y};async function U(){p.value=!0;try{const b=await _e.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:l.currentUser.id}},{status:{_eq:y.value[0]}}]},fields:["id","subject","collection","item","timestamp"],sort:["-timestamp"]}});await d.getUnreadCount();const N=b.data.data,G=[];for(const oe of N)G.push(ee(W({},oe),{timestampDistance:await Re(we(oe.timestamp),new Date,{addSuffix:!0})}));o.value=G}catch(b){m.value=b}finally{p.value=!1}}async function w(){await _e.patch("/notifications",{keys:v.value.map(({id:b})=>b),data:{status:y.value[0]==="inbox"?"archived":"inbox"}}),await U(),v.value=[]}function C({item:b}){var G;const N=u.getCollection(b.collection);((G=N==null?void 0:N.meta)==null?void 0:G.singleton)?i.push(`/content/${b.collection}`):i.push(`/content/${b.collection}/${b.item}`),f.value=!1}}});function Gt(e,t,n,l,d,u){const i=s("v-icon"),o=s("v-button"),_=s("v-list-item-icon"),p=s("v-list-item-content"),m=s("v-tab"),v=s("v-tabs"),y=s("v-info"),f=s("v-table"),$=s("v-drawer"),U=T("tooltip");return c(),g($,{modelValue:e.notificationsDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=w=>e.notificationsDrawerOpen=w),icon:"notifications",title:e.t("notifications"),onCancel:t[4]||(t[4]=w=>e.notificationsDrawerOpen=!1)},{actions:r(()=>[j(a(o,{icon:"",rounded:"",disabled:e.selection.length===0,warning:"",onClick:e.toggleArchive},{default:r(()=>[a(i,{name:e.tab[0]==="inbox"?"archive":"move_to_inbox"},null,8,["name"])]),_:1},8,["disabled","onClick"]),[[U,e.tab[0]==="inbox"?e.t("archive"):e.t("unarchive"),void 0,{bottom:!0}]])]),sidebar:r(()=>[a(v,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=w=>e.tab=w),vertical:""},{default:r(()=>[a(m,{value:"inbox"},{default:r(()=>[a(_,null,{default:r(()=>[a(i,{name:"inbox"})]),_:1}),a(p,null,{default:r(()=>[L(O(e.t("inbox")),1)]),_:1})]),_:1}),a(m,{value:"archived"},{default:r(()=>[a(_,null,{default:r(()=>[a(i,{name:"archive"})]),_:1}),a(p,null,{default:r(()=>[L(O(e.t("archive")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:r(()=>[!e.loading&&e.notifications.length===0?(c(),g(y,{key:0,icon:"notifications",title:e.t("no_notifications"),center:""},{default:r(()=>[L(O(e.t("no_notifications_copy")),1)]),_:1},8,["title"])):(c(),g(f,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=w=>e.selection=w),headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=w=>e.tableHeaders=w),"show-select":"",loading:e.loading,items:e.notifications,"item-key":"id","onClick:row":e.onRowClick},null,8,["modelValue","headers","loading","items","onClick:row"]))]),_:1},8,["modelValue","title"])}var zt=B(Pt,[["render",Gt],["__scopeId","data-v-7d6473d9"]]);const Qt=V({components:{ModuleBar:et,SidebarDetailGroup:ot,HeaderBar:Te,ProjectInfo:gt,NotificationsGroup:It,NotificationsPreview:Et,NotificationDialogs:Ht,NotificationsDrawer:zt},props:{title:{type:String,default:null},smallHeader:{type:Boolean,default:!1}},setup(e){const{t}=M(),n=ue(),{title:l}=J(e),d=I(!1),u=I(),i=X(),o=Y(),_=k(()=>{var $,U;return i.currentUser?((U=($=i.currentUser)==null?void 0:$.role)==null?void 0:U.app_access)||!1:!0}),p=I(!1),{sidebarOpen:m,fullScreen:v}=K(o),y=k(()=>{var $;return(($=i.currentUser)==null?void 0:$.theme)||"auto"});return Se("main-element",u),n.afterEach(async()=>{var $;($=u.value)==null||$.scrollTo({top:0}),v.value=!1}),qe(l),{t,navOpen:d,contentEl:u,theme:y,sidebarOpen:m,openSidebar:f,notificationsPreviewActive:p,appAccess:_,fullScreen:v};function f($){$.target&&$.target.classList.contains("close")===!1&&(m.value=!0)}}}),Wt=e=>(Ve("data-v-8fbd5cde"),e=e(),Le(),e),Jt={class:"module-nav alt-colors"},Kt={class:"module-nav-content"},Yt={id:"main-content",ref:"contentEl",class:"content"},Xt={class:"flex-container"},Zt=Wt(()=>S("div",{class:"spacer"},null,-1));function xt(e,t,n,l,d,u){const i=s("v-button"),o=s("v-info"),_=s("module-bar"),p=s("project-info"),m=s("header-bar"),v=s("sidebar-detail-group"),y=s("notifications-preview"),f=s("v-overlay"),$=s("notifications-drawer"),U=s("notifications-group"),w=s("notification-dialogs");return e.appAccess===!1?(c(),g(o,{key:0,center:"",title:e.t("no_app_access"),type:"danger",icon:"block"},{append:r(()=>[a(i,{to:"/logout"},{default:r(()=>[L(O(e.t("switch_user")),1)]),_:1})]),default:r(()=>[L(O(e.t("no_app_access_copy"))+" ",1)]),_:1},8,["title"])):(c(),h("div",{key:1,class:A(["private-view",{theme:e.theme,"full-screen":e.fullScreen}])},[S("aside",{id:"navigation",role:"navigation","aria-label":"Module Navigation",class:A({"is-open":e.navOpen})},[a(_),S("div",Jt,[a(p),S("div",Kt,[E(e.$slots,"navigation",{},void 0,!0)])])],2),S("div",Yt,[a(m,{small:e.smallHeader,"show-sidebar-toggle":"",title:e.title,"onToggle:sidebar":t[0]||(t[0]=C=>e.sidebarOpen=!e.sidebarOpen),onPrimary:t[1]||(t[1]=C=>e.navOpen=!e.navOpen)},Oe({_:2},[Q(e.$slots,(C,b)=>({name:b,fn:r(N=>[E(e.$slots,b,Ie(Ce(N)),void 0,!0)])}))]),1032,["small","title"]),S("main",null,[E(e.$slots,"default",{},void 0,!0)])],512),S("aside",{id:"sidebar",role:"contentinfo",class:A(["alt-colors",{"is-open":e.sidebarOpen}]),"aria-label":"Module Sidebar",onClick:t[3]||(t[3]=(...C)=>e.openSidebar&&e.openSidebar(...C))},[S("div",Xt,[a(v,{"sidebar-open":e.sidebarOpen},{default:r(()=>[E(e.$slots,"sidebar",{},void 0,!0)]),_:3},8,["sidebar-open"]),Zt,a(y,{modelValue:e.notificationsPreviewActive,"onUpdate:modelValue":t[2]||(t[2]=C=>e.notificationsPreviewActive=C),"sidebar-open":e.sidebarOpen},null,8,["modelValue","sidebar-open"])])],2),a(f,{class:"nav-overlay",active:e.navOpen,onClick:t[4]||(t[4]=C=>e.navOpen=!1)},null,8,["active"]),a(f,{class:"sidebar-overlay",active:e.sidebarOpen,onClick:t[5]||(t[5]=C=>e.sidebarOpen=!1)},null,8,["active"]),a($),e.notificationsPreviewActive===!1?(c(),g(U,{key:0,dense:e.sidebarOpen===!1},null,8,["dense"])):D("",!0),a(w)],2))}var sn=B(Qt,[["render",xt],["__scopeId","data-v-8fbd5cde"]]);export{sn as PrivateView,sn as default};
